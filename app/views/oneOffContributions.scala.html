@import assets.AssetsResolver
@import com.gu.identity.play.IdUser
@import com.gu.support.config.StripeConfig
@import helper.CSRF
@import com.gu.i18n.Currency.AUD
@(
        title: String,
        id: String,
        js: String,
        payPalButton: Boolean,
        defaultStripeConfig: StripeConfig,
        uatStripeConfig: StripeConfig,
        contributionsStripeEndpoint: String,
        contributionsPayPalEndpoint: String
)(implicit assets: AssetsResolver, request: RequestHeader)

@scripts = {
    <script type="text/javascript">
        window.guardian = window.guardian || {};
        window.guardian.stripeKeyRestOfTheWorld = {
          default: "@defaultStripeConfig.forCurrency(None).publicKey",
          uat: "@uatStripeConfig.forCurrency(None).publicKey"
        };
        window.guardian.stripeKeyAustralia = {
          default: "@defaultStripeConfig.forCurrency(Some(AUD)).publicKey",
          uat: "@uatStripeConfig.forCurrency(Some(AUD)).publicKey"
        };
        window.guardian.contributionsStripeEndpoint = "@contributionsStripeEndpoint";
        window.guardian.contributionsPayPalEndpoint = "@contributionsPayPalEndpoint";
        window.guardian.payPalType = @payPalButton ? 'ContributionsCheckout' : 'NotSet';
    </script>
}

@main(title = title, scripts = scripts, mainBundleJs = js) {
    <main id="@id" class="gu-content-wrapper"></main>
}
