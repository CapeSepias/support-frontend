FlakeyServiceLambda:
  Type: "AWS::Lambda::Function"
  Description: "Step 4. Simulate trying to contact a flakey service to test retrys"
  Properties:
    FunctionName: !Sub ${Stack}-FlakeyServiceLambda-${Stage}
    Handler: "com.gu.support.workers.lambdas.FlakeyService::handleRequest"
    MemorySize: 256
    Role: !GetAtt [ LambdaExecutionRole, Arn ]
    Code:
      S3Bucket: support-workers-dist
      S3Key: lambdas/bin/guardian-support-monthly-contributions-lambdas-assembly-0.1-SNAPSHOT.jar
    Runtime: "java8"
    Timeout: "60"