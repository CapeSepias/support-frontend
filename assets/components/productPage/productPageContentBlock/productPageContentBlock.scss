@import '~stylesheets/gu-sass/gu-sass';

@mixin with-border($selector, $colour) {
  #{$selector} .component-left-margin-section__content,
  #{$selector} .component-product-page-features .component-product-page-features__item {
    border-color: $colour;
  }
  /*div > $selector adds some leeway for react wrapping elements*/
  #{$selector} + #{$selector},
  #{$selector} + div > #{$selector}  {
    .component-left-margin-section__content {
      border-top: 1px solid $colour;
    }
  }  
}

.component-product-page-content-block .component-left-margin-section__content {
  max-width: 100%;
  @include mq($from: tablet) {
    border-left: 1px solid gu-colour(garnett-neutral-4);
  }
}

.component-product-page-content-block--grey {
  &, .component-product-page-content-block__bg {
    background-color: gu-colour(garnett-neutral-3);
  }
}

.component-product-page-content-block--feature {
  color: gu-colour(garnett-neutral-5);
  &, .component-product-page-content-block__bg {
    background-color: gu-colour(header-dark);
  }
}

.component-product-page-content-block--dark {
  color: gu-colour(garnett-neutral-5);
  &, .component-product-page-content-block__bg {
    background-color: gu-colour(garnett-neutral-7);
  }
}

@include with-border(
  $selector: ".component-product-page-content-block--grey", 
  $colour: gu-colour(garnett-neutral-4)
);
@include with-border(
  $selector: ".component-product-page-content-block--white", 
  $colour: gu-colour(garnett-neutral-4)
);
@include with-border(
  $selector: ".component-product-page-content-block--feature", 
  $colour: gu-colour(header-border)
);
@include with-border(
  $selector: ".component-product-page-content-block--dark", 
  $colour: gu-colour(garnett-neutral-5)
);



.component-product-page-content-block__content {
  max-width: gu-span(12);
  padding: ($gu-v-spacing/2) ($gu-h-spacing / 2) 0;
}

.component-product-page-content-block__outset {
  margin-left: ($gu-h-spacing / 2 * -1);
  margin-right: ($gu-h-spacing / 2 * -1);
}

// ----- Vertical rhythm ------ //

.component-product-page-content-block {
  .component-product-page-text-block, 
  .component-product-page-plan-form,
  .component-product-page-info-chip {
    margin-bottom: ($gu-v-spacing*2)
  }
}
